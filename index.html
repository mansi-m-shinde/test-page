<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luxury Handbags</title>
  <link rel="stylesheet" href="styles.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VM850QWH95"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VM850QWH95');

    let cart = new Set();
    let cartCounter = 0;
    let timerInterval;
    let timeLeft = 300; // 5 minutes in seconds

    function startTimer() {
      localStorage.setItem('loginTime', new Date().getTime());
      timerInterval = setInterval(updateTimer, 1000);
    }

    function updateTimer() {
      let minutes = Math.floor(timeLeft / 60);
      let seconds = timeLeft % 60;
      document.getElementById('timer').textContent = `Time left: ${minutes}:${seconds.toString().padStart(2, '0')}`;
      
      if (timeLeft <= 0) {
        alert('TIME OVER!! Please start again.');
        clearInterval(timerInterval);
        endSession();
      } else {
        timeLeft--;
      }
    }

    function addToCart(button, productId) {
      cart.add(productId);
      cartCounter++;
      updateCartCounter();

      // Change button text and style
      button.textContent = 'Added to Cart';
      button.style.backgroundColor = '#aaaaaa'; // Example color for the button background
      button.style.color = '#423723'; // Example color for the button text
      button.disabled = true; // Optionally disable the button

      // Check if three products are added
      if (cart.size === 3) {
        // endSession(); // TODO: Replace this with a final message (maybe directly to the survey)
        alert('Thank You for shopping at Luxury Handbags! Please fill the survey to help out my Thesis :)')
        redirectToSurvey()
      }
    }

    // Function to redirect to Google Forms with the time spent
    function redirectToSurvey() {

      clearInterval(timerInterval);
      let loginTime = localStorage.getItem('loginTime');
      if (loginTime) {
        let endTime = new Date().getTime();
        let timeSpent = (endTime - loginTime) / 1000; // Time in seconds

        gtag('event', 'time_spent', {
          'event_category': 'Engagement',
          'event_label': 'Time Spent to Add 3 Different Products or Timer Expired',
          'value': timeSpent
        });
        
        // const timeSpent = getTimeSpent();
        const surveyUrl = "https://docs.google.com/forms/d/e/your-google-form-id/viewform"; //Replace with form link
        // Maybe also include products purchased (by ID) > send the cart variable maybe
        const prefilledSurveyUrl = `${surveyUrl}?entry.1234567890=${timeSpent}`; // Replace entry.1234567890 with your form's entry field ID
        // window.location.href = prefilledSurveyUrl;
        // alert('Redirecting to Survey. Time Spent: ' + timeSpent)
        window.location.href = 'survey.html?timeSpent=' + encodeURIComponent(timeSpent);

        localStorage.clear();
        sessionStorage.clear();
      }
    }

    function updateCartCounter() {
      document.getElementById('cart-counter').textContent = cartCounter;
    }

    function endSession() {
      clearInterval(timerInterval);
      let loginTime = localStorage.getItem('loginTime');
      if (loginTime) {
        let endTime = new Date().getTime();
        let timeSpent = (endTime - loginTime) / 1000; // Time in seconds

        gtag('event', 'time_spent', {
          'event_category': 'Engagement',
          'event_label': 'Time Spent to Add 3 Different Products or Timer Expired',
          'value': timeSpent
        });

        localStorage.clear();
        sessionStorage.clear();
      }
      window.location.href = 'index.html';
    }

    let currentPage = 1;
    const totalPages = 2; // Update this based on your total number of pages

    function changePage(direction) {
      currentPage += direction;
      if (currentPage < 1) currentPage = 1;
      if (currentPage > totalPages) currentPage = totalPages;

      updatePageDisplay();
    }

    function updatePageDisplay() {
      for (let i = 1; i <= totalPages; i++) {
        const pageElement = document.getElementById(`productList${i}`);
        if (i === currentPage) {
          pageElement.classList.add('active');
        } else {
          pageElement.classList.remove('active');
        }
      }

      document.getElementById('prevPage').disabled = currentPage === 1;
      document.getElementById('nextPage').disabled = currentPage === totalPages;
      document.getElementById('prevPageBottom').disabled = currentPage === 1;
      document.getElementById('nextPageBottom').disabled = currentPage === totalPages;
    }

    // Initialize page display
    window.onload = function() {
      startTimer();
      updatePageDisplay();
    };
  </script>
</head>
<body>
  <header>
    <img src="images/lv_banner.png" alt="Header Image" class="header-image">
  </header>
  <header class="fixed-header">
    <h1>Luxury Handbags</h1>
    <!-- Update the version when pushing to check if the webpage has updated too -->
    <h3>Version 1.03</h3> 
    <nav>
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
    <div id="timer-container">
      <div id="timer">Time left: 5:00</div>
    </div>
    <div class="cart-icon-container">
      <div class="cart-icon"></div>
      <div id="cart-counter" class="cart-counter">0</div>
    </div>
  </header>


  <main class="content">
    <section id="productList1" class="product-list active">
    <!-- <section class="product-list"> -->
      <article class="product-item">
        <img src="images/product_images/1-louis-vuitton-(pochette-accessoires-tasche-monogram-canvas)-geldbörsen-und-kleinlederwaren--M82766_PM2_Front view-(1300 EUR).png" alt="Handbag_1">
        <h2>LOUIS VUITTON<h2>
        <h3>Pochette</h3>
        <p>€1300</p>
        <button onclick="addToCart(this, 'Handbag_1')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/2-louis-vuitton-croissant-mm-monogram-canvas-handtaschen--M46828_PM2_Front view-(2500 EUR).png" alt="Handbag_2">
        <h2>LOUIS VUITTON<h2>
        <h3>Croissant MM</h3>
        <p>€2500</p>
        <button onclick="addToCart(this, 'Handbag_2')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/3-louis-vuitton-neverfull-mm-monogram-canvas-handbags--M46975_PM2_Front view-(1500 EUR).webp" alt="Handbag_3">
        <h2>LOUIS VUITTON<h2>
        <h3> Neverfull MM</h3>
        <p>€1500</p>
        <button onclick="addToCart(this, 'Handbag_3')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/4-louis-vuitton-carryall-pm-monogram-canvas-handbags--M46203_PM2_Front view-(2150 EUR).PNG" alt="Handbag_4">
        <h2>LOUIS VUITTON<h2>
        <h3> Carryall PM</h3>
        <p>€2150</p>
        <button onclick="addToCart(this, 'Handbag_4')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/5-louis-vuitton-neverfull-mm-monogram-empreinte-leather-handbags--M58907_PM2_Front view.png" alt="Handbag_5">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_5')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/6-louis-vuitton-loop-monogram-canvas-handtaschen--M81098_PM2_Front view.png" alt="Handbag_6">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop Canvas PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_6')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/7-louis-vuitton-petite-malle-monogram-reverse-canvas-handbags--M45960_PM2_Front view.png" alt="Handbag_7">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_7')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/8-louis-vuitton--M44935_PM2_Front view-(2400 EUR).png" alt="Handbag_8">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_8')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/9-louis-vuitton-neverfull-bb-monogram-canvas-handbags--M46705_PM2_Front view.png" alt="Handbag_9">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_9')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/10-louis-vuitton-graceful-mm-monogram-canvas-handbags--M43703_PM2_Front view.PNG" alt="Handbag_10">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_10')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/11-louis-vuitton--M45833_PM2_Front view-(2700 eur).PNG" alt="Handbag_11">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_11')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/12-louis-vuitton--M22735_PM2_Front view-(2500 EUR)-PNG.png" alt="Handbag_12">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_12')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/13-LOUIS-VUITTON_Cluny-BB-Tote-Bag_Monogram-Canvas_Bordeaux-Fuchsia_2017_FRONT_530x@2x.PNG" alt="Handbag_13">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_13')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/14-louis-vuitton-felicie-pochette--M81896_PM2_Front view.PNG" alt="Handbag_14">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_14')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/15-louis-vuitton-noé-bb-monogram-canvas-handtaschen--M46983_PM2_Front view.PNG" alt="Handbag_15">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_15')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/16-louis-vuitton-wallet-on-chain-ivy-monogram-canvas-handtaschen--M81911_PM2_Front view.PNG" alt="Handbag_16">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_16')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/17-louis-vuitton-coussin-pm-h32-handbags--M21260_PM2_Front view.PNG" alt="Handbag_17">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_17')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/18-louis-vuitton-lock-go-lockme-leather-handbags--M22311_PM2_Front view.PNG" alt="Handbag_18">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_18')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/19-louis-vuitton--M81085_PM2_Front view.(1500 EUR).png" alt="Handbag_19">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_19')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/20-louis-vuitton--M82335_PM2_Front view-(1600 EUR).png" alt="Handbag_20">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_20')">Add to Cart</button>
      </article>

      <!-- Add more products as needed -->
    </section>

    <section id="productList2" class="product-list">
      <article class="product-item">
        <img src="images/product_images/21-louis-vuitton--M82952_PM2_Front view.png" alt="Handbag_21">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_21')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/22-louis-vuitton-mini-boîte-chapeau-monogram-canvas-geldbörsen-und-kleinlederwaren--M44699_PM2_Front view-(1900 EUR)-png.webp" alt="Handbag_22">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_22')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/23-louis-vuitton-onthego-mm-monogram-canvas-handbags--M45321_PM2_Front view.png" alt="Handbag_23">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_23')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/24-louis-vuitton-boulogne-monogram-canvas-handtaschen--M45832_PM2_Front view.png" alt="Handbag_24">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_24')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/25-louis-vuitton--M44875_PM2_Front view.png" alt="Handbag_25">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_25')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/26-louis-vuitton-atlantis-gm-monogram-canvas-handbags--M46817_PM1_Back view.png" alt="Handbag_26">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_26')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/27-louis-vuitton-diane-monogram-canvas-handtaschen--M46049_PM2_Front view.png" alt="Handbag_27">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_27')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/28-louis-vuitton--M46999_PM2_Front view.png" alt="Handbag_28">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_28')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/29-louis-vuitton-side-trunk-mm-monogram-canvas-handbags--M46358_PM2_Front view.png" alt="Handbag_29">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_29')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/30-louis-vuitton-alma-pm-monogram-canvas-handbags--M53151_PM2_Front view.png" alt="Handbag_30">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_30')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/31- louis-vuitton--M46740_PM2_Front view - 2000 EUR.png" alt="Handbag_31">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_31')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/32- louis-vuitton-speedy-25-monogram-canvas-handbags--M41109_PM2_Front view.webp" alt="Handbag_32">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_32')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/33- louis-vuitton--M12859_PM2_Front view.png" alt="Handbag_33">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_33')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/34-louis-vuitton-dauphine-mm-autres-toiles-monogram-handtaschen--M45958_PM2_Front view-2800 EUR.webp" alt="Handbag_34">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_34')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/35-louis-vuitton--M82465_PM2_Front view- 2700 EUR.png" alt="Handbag_35">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_35')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/36- louis-vuitton--M46311_PM2_Front view.png" alt="Handbag_36">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_36')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/37- louis-vuitton-alma-pm-damier-ebene-canvas-handbags--N53151_PM2_Front view.webp" alt="Handbag_37">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_37')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/38-louis-vuitton--M45165_PM2_Front view- 2350 EUR.png" alt="Handbag_38">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_38')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/39- louis-vuitton--M46372_PM2_Front view.png" alt="Handbag_39">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_39')">Add to Cart</button>
      </article>
      <article class="product-item">
        <img src="images/product_images/40-louis-vuitton-petit-palais--M45900_PM2_Front view.webp" alt="Handbag_40">
        <h2>LOUIS VUITTON<h2>
        <h3> Loop PM</h3>
        <p>€xxxx</p>
        <button onclick="addToCart(this, 'Handbag_40')">Add to Cart</button>
      </article>

    </section>
    <div class="page-navigation">
      <button id="prevPageBottom" onclick="changePage(-1)">Previous Page</button>
      <button id="nextPageBottom" onclick="changePage(1)">Next Page</button>
    </div>
    <div>Icons made from <a href="https://www.onlinewebfonts.com/icon">svg icons</a>is licensed by CC BY 4.0</div>
  </main>
  <footer>
    <p>&copy; 2024 Luxury Handbags</p>
    <p>Made with &hearts; by Mansi</p>
    <p>No images are owned by the creator of this website and are only used for research purposes.</p>
  </footer>


</body>
</html>
